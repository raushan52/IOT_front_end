<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Automation</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="style.css">

        <script src="st.js"></script>
        <!-- If you are opening this page from local machine, uncomment belwo line -->
       
	  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script> 
	  
	 
      <!-- If you are opening this page from a web hosting server machine, uncomment belwo line -->
      
      <!--<script type="text/javascript">
         document.write([
             "\<script src='",
             ("https:" == document.location.protocol) ? "https://" : "http://",
             "ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js' type='text/javascript'>\<\/script>" 
         ].join(''));
       </script>-->
</head>
<body>

    <header class="heading" style=" background-color: #161d28;">
        <div class="row" >
            <div class="col-md-12" style="text-align: center;">
                <h2 style="color : #ffffff; font-weight: bold;">Home Automation</h2>
            </div>
        </div>
    </header>
    <!-- First Section-->
    <section style="max-width:100%; background-color :#f4f4f4;">
        <div class="container" >
            <div class="row">
                <div class="col-md-12">
                    <div class="row" style="margin:0 auto; padding: 2%;">
                        <div class="col" style="text-align: center;">
                            
                            <main>
                                <button onclick="fill()">Fill</button>
                                <button onclick="sip()">Sip</button>
                            </main>
                            <svg id="svg" viewBox="0 0 578 800"><desc>Created with Snap</desc><defs><pattern x="0" y="0" width="200" height="200" patternUnits="userSpaceOnUse" id="patternSkkbca8nn5" viewBox="0 0 200 200" patternContentUnits="objectBoundingBox" fill="#0992cf" style=""><path d="M0,100 Q50,50 100,100 T200,100 L200,200 L0,200 Z"></path></pattern><rect x="0" y="0" width="100%" height="100%" fill="#0992cf" id="rectSkkbca8nn6" ></rect><rect x="0" y="10" width="1500" height="190" fill="url('#patternSkkbca8nn5')" patternContentUnits="objectBoundingBox" id="rectSkkbca8nn7"></rect><mask id="maskSkkbca8nnb"><path d="M289,800 C448.3835,800 578,670.30544 578,510.825953 C578,364.985843 352.291,79.0409061 326.57,46.9425869 L289,-1.13686838e-13 L251.43,46.9425869 C225.709,79.0409061 5.68434189e-14,364.985843 5.68434189e-14,510.825953 C5.68434189e-14,670.30544 129.6165,800 289,800" fill="#ffffff"></path></mask></defs><g mask="url('#maskSkkbca8nnb')" id="drop"><rect x="0" y="0" width="100%" height="100%" fill="#264980" ></rect><use xlink:href="#rectSkkbca8nn7" transform="matrix(2,0,0,0,800,0)"></use><use xlink:href="#rectSkkbca8nn6" y="800"></use></g><text x="50%" y="65%" fill="#ffffff" style="font-family: &quot;Source Sans Pro&quot;; font-size: 5em; text-anchor: middle; dominant-baseline: middle; alignment-baseline: middle;"><tspan>0</tspan><tspan>%</tspan></text></svg>
                                
                        </div>
                        <div class="col">
                            <p id="distance" style="font-weight: bold;"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-12 form">
                    <form action="" method="GET">
                    <div class="row">
                        <div class="col  stt">
                            <div>
                                <h4>Motor Status</h4>
                                <button type="button" id="motor-on" class="button button1" >Motor ON</button>
                                <button type="button" id="motor-off" class="button button3" >Motor OFF</button>
                                <br>
                            </div>
                            
                        </div>
                        <div class="col badge stt">
                            <div>
                                <h3>Fan Status</h3>
                                <button type="button" id="fan1-on" class="button button1" >Fan1 ON</button>
                                <button type="button" id="fan1-off" class="button button3" >Fan1 OFF</button>
                                <br>
                                <button type="button" id="fan2-on" class="button button1" >Fan2 ON</button>
                                <button type="button" id="fan2-off" class="button button3" >Fan2 OFF</button>
                                <br>
                            </div>
                            
                        </div>
                        <div class="col badge stt">
                            <div>
                                <h3>LED Status</h3>
                                <button type="button" id="D1-on" class="button button1" >LED1 ON</button>
                                <button type="button" id="D1-off" class="button button3" >LED1 OFF</button>
                                <br>
                                <button type="button" id="D2-on" class="button button1" >LED2 ON</button>
                                <button type="button" id="D2-off" class="button button3" >LED2 OFF</button>
                                <br>
                                <button type="button" id="D3-on" class="button button1" >LED3 ON</button>
                                <button type="button" id="D3-off" class="button button3" >LED3 OFF</button>
                                <br>
                            </div>
                            
                        </div>
                        <div class="col badge stt">
                            <div>
                                <h3>Buzzer Status</h3>
                                <button type="button" id="buzzer-on" class="button button1" >Buzzer ON</button>
                                <button type="button" id="buzzer-off" class="button button3" >Buzzer OFF</button>
                                <br>
                            </div>
                            
                        </div>
                    </div>
                </form>
                </div>
            </div>
        </div>
    </section>
    <!-- End of First Section-->

   

    <footer style=" border : 1px solid red; background-color: #161d28;">
        <div class="row">
            <div class="col-md-12" style="text-align: center;">
                <h4 style="color : #ffffff; font-weight: bold;">Noob Coders.</h4>
            </div>
        </div>
    </footer>

    <script>
         //Led control
  document.getElementById('D1-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=1&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});

document.getElementById('D1-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=1&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});


document.getElementById('D2-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=2&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});

document.getElementById('D2-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=2&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});


document.getElementById('D3-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=3&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});

document.getElementById('D3-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/led/update.php?id=3&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
//Led control



//motor control
document.getElementById('motor-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/water_motor_status/update.php?id=1&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
document.getElementById('motor-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/water_motor_status/update.php?id=1&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
//motor control

//buzzer control
document.getElementById('buzzer-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/buzzer/update.php?id=1&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
document.getElementById('buzzer-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/buzzer/update.php?id=1&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
//buzzer control

//fan control
document.getElementById('fan1-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/fan/update.php?id=1&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
document.getElementById('fan1-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/fan/update.php?id=1&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});

document.getElementById('fan2-on').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/fan/update.php?id=2&status=on";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});
document.getElementById('fan2-off').addEventListener('click', function() {
    var url = "https://roushanhomeautomation.000webhostapp.com/api/fan/update.php?id=2&status=off";
    $.getJSON(url, function(data) {
        console.log(data);
    });
});

//fan control
    </script>

<script>
    window.onload = function() {
        loaddata();
    };
    function loaddata(){
            var url = "https://roushanhomeautomation.000webhostapp.com/api/superSonicSensorData/read_all.php";
            $.getJSON(url, function(data) {
                var val= data;
              var distance=(data['water_level'][(Object.keys(data['water_level']).length)-1]['distance']);

               document.getElementById("distance").innerHTML = "Reading of sensor is :"+distance;
                console.log(data['water_level'][(Object.keys(data['water_level']).length)-1]['distance']);
            });
        
    }
    window.setInterval(function(){
    loaddata();
        }, 1000);

</script>
    
</body>
</html>